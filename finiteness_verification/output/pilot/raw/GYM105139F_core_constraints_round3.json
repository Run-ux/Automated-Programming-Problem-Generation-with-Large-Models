{
  "problem_id": "GYM105139F",
  "source": "icpc_gym",
  "dimension": "core_constraints",
  "round": 3,
  "result": {
    "constraints": [
      {
        "name": "merge_until_unique_levels",
        "description": "在Step 1中，Steve将编号从l到r的所有书籍合并，直到不存在两个级别相同的书籍。",
        "formal": "while (exists i, j in [l, r] such that a[i] == a[j]): merge(a[i], a[j])"
      },
      {
        "name": "add_new_book",
        "description": "在Step 2中，Steve向Step 1得到的书籍中添加一个新书，其级别为k。",
        "formal": "a.append(k)"
      },
      {
        "name": "maximize_merge_operations",
        "description": "在Step 3中，Steve需要尽可能多地合并书籍，并计算总成本模10^9+7。",
        "formal": "maximize(merge_count) and output (total_cost % (10^9 + 7))"
      },
      {
        "name": "sequence_restored",
        "description": "在计算完成后，序列恢复到初始状态，即操作不会实际改变序列。",
        "formal": "a = initial_a after all operations"
      }
    ]
  },
  "status": "success"
}