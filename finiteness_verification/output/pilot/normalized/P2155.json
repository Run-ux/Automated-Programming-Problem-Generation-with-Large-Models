{
  "problem_id": "P2155",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "matrix",
        "length": {
          "min": 1,
          "max": 10000
        },
        "value_range": {
          "min": 1,
          "max": 10000000
        },
        "properties": {
          "ordered": false
        }
      }
    },
    {
      "round": 2,
      "status": "success",
      "result": {
        "type": "matrix",
        "length": {
          "min": 1,
          "max": 10000
        },
        "value_range": {
          "min": 1,
          "max": 10000000
        },
        "properties": {
          "ordered": false
        }
      }
    },
    {
      "round": 3,
      "status": "success",
      "result": {
        "type": "matrix",
        "length": {
          "min": 1,
          "max": 10000
        },
        "value_range": {
          "min": 1,
          "max": 10000000
        },
        "properties": {
          "ordered": false
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "pairwise_exclusion",
            "description": "计算区间 [1, N!] 中与 M! 互质的数的数量",
            "formal": "count(i in [1, N!] | gcd(i, M!) == 1)"
          },
          {
            "name": "modular_arithmetic",
            "description": "结果对 R 取模",
            "formal": "result % R"
          }
        ]
      }
    },
    {
      "round": 2,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "pairwise_exclusion",
            "description": "计算在给定范围内与特定数互质的数的数量",
            "formal": "count(i in [1, N!] | gcd(i, M!) == 1) % R"
          },
          {
            "name": "modular_arithmetic",
            "description": "结果需要对给定模数取模",
            "formal": "result % R"
          }
        ]
      }
    },
    {
      "round": 3,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "pairwise_exclusion",
            "description": "计算区间 [1, N!] 中与 M! 互质的数的数量",
            "formal": "count(i in [1, N!] | gcd(i, M!) == 1)"
          },
          {
            "name": "modular_arithmetic",
            "description": "结果对 R 取模",
            "formal": "result % R"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "enumeration",
        "description": "求在给定范围内与特定值互质的数的数量，并对结果取模"
      }
    },
    {
      "round": 2,
      "status": "success",
      "result": {
        "type": "enumeration",
        "description": "求在给定范围内与特定数互质的数的数量，并对结果取模"
      }
    },
    {
      "round": 3,
      "status": "success",
      "result": {
        "type": "enumeration",
        "description": "求在给定范围内与特定数互质的数的数量，并对结果取模"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "optimal_substructure",
            "description": "最优子结构：问题的解可以通过子问题的解来构造，即计算与 M! 互质的数的数量可以分解为更小规模的问题。",
            "properties": {}
          },
          {
            "name": "modular_invariant",
            "description": "模运算不变量：所有计算结果均在给定模数 R 下进行，确保数值不会溢出且结果一致。",
            "properties": {}
          }
        ]
      }
    },
    {
      "round": 2,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "optimal_substructure",
            "description": "最优子结构：问题的解可以通过子问题的解来构造，即计算与M!互质的数的数量可以分解为更小规模的问题。",
            "properties": {}
          },
          {
            "name": "modular_invariant",
            "description": "模运算不变量：所有计算结果均在给定模数R下进行，确保结果不会溢出且符合题目要求。",
            "properties": {}
          }
        ]
      }
    },
    {
      "round": 3,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "optimal_substructure",
            "description": "最优子结构：问题的解可以通过子问题的解来构建，即计算与 M! 互质的数的数量可以分解为更小规模的问题。",
            "properties": {}
          },
          {
            "name": "modular_invariant",
            "description": "模运算不变量：所有计算结果均在给定的模 R 下进行，确保不会溢出且保持一致性。",
            "properties": {}
          }
        ]
      }
    }
  ]
}