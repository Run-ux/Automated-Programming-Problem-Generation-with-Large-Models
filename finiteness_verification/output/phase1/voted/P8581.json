{
  "problem_id": "P8581",
  "source": "luogu",
  "input_structure": {
    "type": "undirected_graph",
    "confidence": "1/1",
    "all_rounds": [
      {
        "round": 1,
        "status": "success",
        "result": {
          "type": "undirected_graph",
          "length": {
            "min": 1,
            "max": 1000000
          },
          "value_range": {
            "min": 1,
            "max": 1000000
          },
          "properties": {
            "connected": true,
            "weighted": true
          }
        }
      }
    ],
    "length": {
      "min": 1,
      "max": 1000000
    },
    "value_range": {
      "min": 1,
      "max": 1000000
    },
    "properties": {
      "connected": true,
      "weighted": true
    }
  },
  "core_constraints": {
    "constraints": [
      {
        "name": "minimum_ratio_constraint",
        "description": "在以某个节点为根的子树中，选择一个子树使得其权值比（a(T')/b(T')）最小且包含最多的节点数量。",
        "confidence": "1/1"
      },
      {
        "name": "adjacent_difference",
        "description": "对于某个节点 j，如果其父节点 i 在子树 T' 中但 j 不在 T' 中，则 j 的 a 值增加 ⌈r(T')⌉。",
        "confidence": "1/1"
      },
      {
        "name": "activation_trigger_condition",
        "description": "每次激活操作后，将新生成的 Z 节点的未同化子节点加入到待处理集合 Q 中，并从 Q 中移除当前处理的节点。",
        "confidence": "1/1"
      },
      {
        "name": "operation_cost",
        "description": "每次激活操作的代价为 t × ⌈r(K_t)⌉，其中 t 是激活操作的序号，r(K_t) 是第 t 次激活生成的 Z 节点的权值比。",
        "confidence": "1/1"
      }
    ],
    "all_rounds": [
      {
        "round": 1,
        "status": "success",
        "result": {
          "constraints": [
            {
              "name": "minimum_ratio_constraint",
              "description": "在以某个节点为根的子树中，选择一个子树使得其权值比（a(T')/b(T')）最小且包含最多的节点数量。",
              "formal": "T_i = \\arg\\min_{T' \\in F_i} r(T') 且 |T_i| 最大"
            },
            {
              "name": "adjacent_difference",
              "description": "对于某个节点 j，如果其父节点 i 在子树 T' 中但 j 不在 T' 中，则 j 的 a 值增加 ⌈r(T')⌉。",
              "formal": "若 i ∈ T' 且 j ∉ T'，则 a_j ← a_j + ⌈r(T')⌉"
            },
            {
              "name": "activation_trigger_condition",
              "description": "每次激活操作后，将新生成的 Z 节点的未同化子节点加入到待处理集合 Q 中，并从 Q 中移除当前处理的节点。",
              "formal": "Q ← Q ∪ S(T_j) - {j}"
            },
            {
              "name": "operation_cost",
              "description": "每次激活操作的代价为 t × ⌈r(K_t)⌉，其中 t 是激活操作的序号，r(K_t) 是第 t 次激活生成的 Z 节点的权值比。",
              "formal": "c_t = t × ⌈r(K_t)⌉"
            }
          ]
        }
      }
    ]
  },
  "objective": {
    "type": "minimize_cost",
    "confidence": "1/1",
    "all_rounds": [
      {
        "round": 1,
        "status": "success",
        "result": {
          "type": "minimize_cost",
          "description": "最小化加权路径和，其中权重为每次操作的代价"
        }
      }
    ],
    "description": "最小化加权路径和，其中权重为每次操作的代价"
  },
  "invariant": {
    "name": "optimal_substructure",
    "confidence": "1/1",
    "all_rounds": [
      {
        "round": 1,
        "status": "success",
        "result": {
          "name": "optimal_substructure",
          "description": "最优子结构：大问题的解由子问题的解组合而成，每个子树的最优解可以递归地通过其子树的最优解来构建",
          "properties": {}
        }
      }
    ],
    "description": "最优子结构：大问题的解由子问题的解组合而成，每个子树的最优解可以递归地通过其子树的最优解来构建"
  }
}