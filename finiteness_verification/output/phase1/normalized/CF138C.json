{
  "problem_id": "CF138C",
  "source": "codeforces",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "array",
        "length": {
          "min": 1,
          "max": 100000
        },
        "value_range": {
          "min": -1000000000,
          "max": 1000000000
        },
        "properties": {
          "inferred": true
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "subsequence_constraint",
            "description": "每个元素（树）可以对其左右区间内的其他元素（蘑菇）造成影响，具体为：如果一个元素向左倒下，则其左侧一定范围内的所有元素被销毁；如果向右倒下，则其右侧一定范围内的所有元素被销毁。",
            "formal": "对于每个树 (x, h)，如果它向左倒下，则 [x - h, x) 区间内的所有蘑菇被销毁；如果向右倒下，则 (x, x + h] 区间内的所有蘑菇被销毁。"
          },
          {
            "name": "independence",
            "description": "所有事件（树的倒下方向）是独立的，即一棵树的倒下方向不影响其他树的倒下方向。",
            "formal": "P(tree_i falls left or right) is independent of P(tree_j falls left or right) for all i ≠ j."
          },
          {
            "name": "probability_distribution",
            "description": "只有那些没有被任何树击中的元素（蘑菇）才能存活下来，需要计算这些存活元素的期望值。",
            "formal": "E[surviving mushrooms' power] = Σ(z_j * P(mushroom_j survives))，其中 P(mushroom_j survives) 是蘑菇 j 未被任何树击中的概率。"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "maximize_probability",
        "description": "最大化幸存元素的权值和期望"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "interval_mergeable",
            "description": "区间可合并性：通过子区间的合并来维护整个区间的期望值，适用于线段树等数据结构",
            "properties": {}
          },
          {
            "name": "optimal_substructure",
            "description": "最优子结构：每个蘑菇的生存概率可以独立计算，并且最终结果是这些独立计算结果的和",
            "properties": {}
          }
        ]
      }
    }
  ]
}