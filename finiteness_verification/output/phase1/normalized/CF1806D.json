{
  "problem_id": "CF1806D",
  "source": "codeforces",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "array",
        "length": {
          "min": 1,
          "max": 500000
        },
        "value_range": {
          "min": 0,
          "max": 1
        },
        "properties": {
          "ordered": false
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "permutation_constraint",
            "description": "数组必须是长度为 k 的排列（即包含 k 个不同整数，范围从 1 到 k）"
          },
          {
            "name": "graph_structure_constraint",
            "description": "根据给定的排列 p 和数组 a 构建有向图 G，其中 G 的边由 a 中的 0 或 1 决定"
          },
          {
            "name": "indegree_constraint",
            "description": "计算图 G 中顶点 1 的入度"
          },
          {
            "name": "permutation_sum_constraint",
            "description": "对于每个 k 从 1 到 n-1，计算所有长度为 k 的排列的值之和，并对结果取模 998244353"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "enumeration",
        "description": "求所有长度为k的排列中，满足特定条件的排列值之和（对给定模数取模）"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "optimal_substructure",
            "description": "最优子结构：问题的解可以通过子问题的解组合得到，且子问题的解是独立的",
            "properties": {
              "subproblem_independence": true
            }
          },
          {
            "name": "state_transition",
            "description": "状态转移不变量：从一个状态转移到另一个状态的过程中，状态转移的一致性和合法性保持不变",
            "properties": {}
          },
          {
            "name": "divide_conquer",
            "description": "分治不变量：大问题的解可以由其子问题的解合成，且子问题之间相互独立",
            "properties": {
              "subproblem_independence": true
            }
          }
        ]
      }
    }
  ]
}