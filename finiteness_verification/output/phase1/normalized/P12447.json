{
  "problem_id": "P12447",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "tree",
        "length": {
          "min": 2,
          "max": 511
        },
        "value_range": {
          "min": 1,
          "max": 511
        },
        "properties": {
          "connected": true,
          "max_degree": 3
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "degree_bound",
            "description": "每个节点的度数至多为 3",
            "formal": "∀v ∈ V, deg(v) ≤ 3"
          },
          {
            "name": "query_limit",
            "description": "最多可以发起 2.5 × 10^5 次询问",
            "formal": "Q ≤ 2.5 × 10^5"
          },
          {
            "name": "distinctness",
            "description": "每次询问的三个节点必须两两不同",
            "formal": "∀(a, b, c) ∈ Q, a ≠ b, b ≠ c, c ≠ a"
          },
          {
            "name": "connectivity",
            "description": "树是连通的",
            "formal": "G 是连通图"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "construction",
        "description": "通过询问构造出满足条件的树结构"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "topological_order",
            "description": "拓扑序不变量：通过询问节点间的距离关系，可以逐步构建出树的拓扑结构，确保每次添加的边不会破坏已有的部分树结构。",
            "properties": {}
          },
          {
            "name": "subproblem_independence",
            "description": "子问题独立性：在构建树的过程中，每个子树的构建是独立的，可以通过递归或分治的方式处理各个子树。",
            "properties": {}
          },
          {
            "name": "divide_conquer",
            "description": "分治不变量：通过选择一个中心节点，将树分成多个子树，并分别构建这些子树，最终合并成完整的树。",
            "properties": {}
          }
        ]
      }
    }
  ]
}