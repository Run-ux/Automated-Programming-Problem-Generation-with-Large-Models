{
  "problem_id": "P8530",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "array",
        "length": {
          "min": 2,
          "max": 100000
        },
        "value_range": {
          "min": 1,
          "max": 100000
        },
        "properties": {
          "ordered": false
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "subset_constraint",
            "description": "查询的集合 S 是由满足条件 l1 ≤ i ≤ r1 且 l2 ≤ pi ≤ r2 的所有 ai 组成的子集"
          },
          {
            "name": "sum_constraint",
            "description": "对于每个查询，求集合 S 中所有元素对应的 bj 的和，并对 2^32 取模后输出"
          },
          {
            "name": "permutation_constraint",
            "description": "pi 是一个排列，即 1 到 n 的一个全排列"
          },
          {
            "name": "range_bound",
            "description": "保证 1 ≤ pi, ai, bi ≤ n"
          },
          {
            "name": "special_property_a_constraint",
            "description": "对于某些测试点，所有查询中 l2 = 1 且 r2 = n"
          },
          {
            "name": "special_property_c_constraint",
            "description": "最多有 50 对二元组 (i, j) (1 ≤ i < j ≤ n) 不满足 (i, pi) ≤ (j, pj)"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "maximize_value",
        "description": "求给定矩形区域内所有点的权值和"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "interval_additivity",
            "description": "区间可加性：通过端点差值计算区间和，适用于前缀和的构建与查询",
            "properties": {}
          },
          {
            "name": "interval_mergeable",
            "description": "区间可合并性：子区间的和可以通过合并操作得到父区间的和，适用于线段树等数据结构",
            "properties": {}
          }
        ]
      }
    }
  ]
}