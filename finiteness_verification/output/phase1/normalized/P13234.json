{
  "problem_id": "P13234",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "two_dimensional_array",
        "length": {
          "min": 1,
          "max": 50
        },
        "value_range": {
          "min": 0,
          "max": 3
        },
        "properties": {
          "sum_per_row": 3,
          "sum_per_column": 3,
          "max_occurrences_per_row": 2,
          "max_occurrences_per_column": 2
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "sum_constraint",
            "description": "每行和每列的元素和必须等于 3",
            "formal": "∀i, j: sum(row[i]) = 3 ∧ sum(column[j]) = 3"
          },
          {
            "name": "frequency_bound",
            "description": "每行和每列中非零元素的数量不超过 2",
            "formal": "∀i, j: count_nonzero(row[i]) ≤ 2 ∧ count_nonzero(column[j]) ≤ 2"
          },
          {
            "name": "subset_constraint",
            "description": "每个单元格的值只能是 0, 1, 2 或 3",
            "formal": "∀i, j: A[i][j] ∈ {0, 1, 2, 3}"
          },
          {
            "name": "color_count_constraint",
            "description": "矩阵中值为 3 的单元格数量至少为 X",
            "formal": "count(A[i][j] == 3) ≥ X"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "enumeration",
        "description": "求满足条件的排列数（模10^9+7）"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "optimal_substructure",
            "description": "最优子结构：问题的解可以通过子问题的解组合得到，即每个子问题的解都是全局最优解的一部分。",
            "properties": {}
          },
          {
            "name": "state_transition",
            "description": "状态转移不变量：从一个状态转移到另一个状态的过程中，状态转移规则保持一致，确保状态机的正确性。",
            "properties": {}
          },
          {
            "name": "subproblem_independence",
            "description": "子问题独立性：在求解过程中，各个子问题之间相互独立，互不影响，可以并行处理。",
            "properties": {}
          }
        ]
      }
    }
  ]
}