{
  "problem_id": "P9776",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "tree",
        "length": {
          "min": 3,
          "max": 100000
        },
        "value_range": {
          "min": 0,
          "max": 998244352
        },
        "properties": {
          "connected": true,
          "weighted": true
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "acyclicity",
            "description": "树的结构为完全二叉树，节点编号与其DFS序相同"
          },
          {
            "name": "leaf_weight_constraint",
            "description": "每个叶子节点被其上方的节点管辖，且叶子节点也管辖自己本身"
          },
          {
            "name": "submatrix_transformation",
            "description": "对指定区间内的节点进行点权更新操作"
          },
          {
            "name": "subtree_transformation",
            "description": "对指定区间内节点管辖的所有叶子节点进行点权更新操作，每个叶子节点最多被修改一次"
          },
          {
            "name": "prefix_sum_constraint",
            "description": "查询指定区间内叶子节点的管辖节点点权和"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "enumeration",
        "description": "求区间内满足条件的节点点权和"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "interval_mergeable",
            "description": "区间可合并性：节点管辖的叶子节点集合可以通过子区间的合并来计算，满足线段树的区间操作性质",
            "properties": {}
          },
          {
            "name": "state_transition",
            "description": "状态转移不变量：节点的点权更新和查询操作可以基于其子节点的状态进行，保证了从根到叶子的传递一致性",
            "properties": {}
          }
        ]
      }
    }
  ]
}