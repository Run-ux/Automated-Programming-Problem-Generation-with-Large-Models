{
  "problem_id": "P4765",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "array",
        "length": {
          "min": 1,
          "max": 150000
        },
        "value_range": {
          "min": 0,
          "max": 1000000
        },
        "properties": {
          "ordered": false
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "operation_limit",
            "description": "操作次数限制（最多可以进行 k 次购买操作）",
            "formal": "k <= 9"
          },
          {
            "name": "maximum_to_minimum_ratio_constraint",
            "description": "最大值减最小值不超过 D（最终收益为获得的物品价值减去所有花费，需要最大化这个差值）",
            "formal": "max(v_i - c_i) - sum(c_j) for all j < i and v_i > 0"
          },
          {
            "name": "optimal_play",
            "description": "对抗策略（你和对手都采用最优策略，你需要考虑对手的干扰行为）",
            "formal": "maximize gain under adversarial conditions"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "min_max",
        "description": "在对手干扰下，最大化最小收益"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "optimal_substructure",
            "description": "最优解可以通过子问题的最优解组合得到，即在考虑前i个物品和最多j次魔法的情况下，最优解可以从考虑前i-1个物品和最多j次魔法的情况推导出来。",
            "properties": {}
          },
          {
            "name": "state_transition",
            "description": "状态转移不变量：当前状态（考虑前i个物品和最多j次魔法）可以由前一个状态（考虑前i-1个物品和最多j次魔法）通过确定是否购买第i个物品来转移。",
            "properties": {}
          }
        ]
      }
    }
  ]
}