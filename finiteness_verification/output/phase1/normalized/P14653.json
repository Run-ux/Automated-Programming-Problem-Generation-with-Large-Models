{
  "problem_id": "P14653",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "undirected_graph",
        "length": {
          "min": 2,
          "max": 200000
        },
        "value_range": {
          "min": 1,
          "max": 200000
        },
        "properties": {
          "connected": true,
          "weighted": false
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "distinct_positions",
            "description": "初始位置互不相同（即所有头的初始位置不同）",
            "formal": "∀ i, j ∈ [1, k], i ≠ j → x_i ≠ x_j"
          },
          {
            "name": "circular_sequence_constraint",
            "description": "每个节点的偏好形成一个循环链表（即第 i 个头最喜欢的头是第 (i % k) + 1 个头）",
            "formal": "favorite(i) = (i % k) + 1"
          },
          {
            "name": "uniform_movement",
            "description": "节点以连续的方式移动，每单位时间移动一条边",
            "formal": "position(t+1) = next(position(t))"
          },
          {
            "name": "convergence_to_single_value",
            "description": "如果两个节点重合，则它们之后会一直保持在一起（即一个节点和它最喜欢的节点重合后，它们将不再分开）",
            "formal": "if position(i, t) == position(favorite(i), t) then ∀ t' > t, position(i, t') == position(favorite(i), t')"
          },
          {
            "name": "convergence_to_single_value",
            "description": "如果所有节点聚在一个点上，则所有节点保持不动（即所有节点在同一个位置时，它们将不再移动）",
            "formal": "if ∀ i, j ∈ [1, k], position(i, t) == position(j, t) then ∀ t' > t, position(i, t') == position(j, t')"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "maximize_count",
        "description": "构造每个询问时刻指定节点在树上的位置"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "name": "optimal_substructure",
        "description": "当前状态只依赖于前一时刻的状态，每个头的移动方向和速度由其与目标头的位置关系决定",
        "properties": {
          "markov_property": true
        }
      }
    }
  ]
}