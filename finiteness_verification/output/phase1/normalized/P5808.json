{
  "problem_id": "P5808",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "array",
        "length": {
          "min": 1,
          "max": 30000
        },
        "value_range": {
          "min": 0,
          "max": 998244353
        },
        "properties": {
          "ordered": true
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "linear_relation",
            "description": "递推关系为线性，即当前项是前 k 项的线性组合加上一个多项式 P(n) 的值",
            "formal": "a_n = P(n) + ∑(i=1 to k) f_i * a_{n-i}"
          },
          {
            "name": "modular_arithmetic",
            "description": "所有计算结果需对 998244353 取模",
            "formal": "result ≡ result (mod 998244353)"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "construction",
        "description": "构造递推序列的第 n 项值"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "optimal_substructure",
            "description": "最优子结构：递推式的每一项可以通过前几项的线性组合加上一个多项式计算得到，满足动态规划中的最优子结构性质",
            "properties": {}
          },
          {
            "name": "state_transition",
            "description": "状态转移不变量：通过矩阵快速幂实现从初始状态到目标状态的高效转移，保证了状态转移的一致性和正确性",
            "properties": {}
          }
        ]
      }
    }
  ]
}