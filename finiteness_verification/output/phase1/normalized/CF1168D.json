{
  "problem_id": "CF1168D",
  "source": "codeforces",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "tree",
        "length": {
          "min": 2,
          "max": 150000
        },
        "value_range": {
          "min": 1,
          "max": 26
        },
        "properties": {
          "connected": true,
          "rooted": true,
          "binary": true
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "permutation_constraint",
            "description": "树是可变换成所有叶子节点关联字符串互为字母异位词的，即可以通过替换问号使得所有从根到叶子的路径上的字符组成的字符串互为字母异位词"
          },
          {
            "name": "frequency_bound",
            "description": "对于每个字母 c，其在任意一个叶子节点关联字符串中的最大出现次数（即 anagramnity）需要计算并用于后续求和"
          },
          {
            "name": "sum_constraint",
            "description": "计算所有字母 c 的 anagramnity 与字母在字母表中的索引值的乘积之和"
          },
          {
            "name": "acyclicity",
            "description": "树是一个二叉树，每个节点最多有两个子节点"
          },
          {
            "name": "acyclicity",
            "description": "树是有根树，根节点为 1"
          },
          {
            "name": "labeling_constraint",
            "description": "每条边有一个标签，标签可以是小写字母或问号"
          },
          {
            "name": "operation_limit",
            "description": "每次更新操作会替换一条边上的标签，标签可以是小写字母或问号"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "feasibility",
        "description": "判断树是否可变为所有叶子节点到根路径上的字符串互为字母异位词，并在可行时计算特定函数值"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "state_transition",
            "description": "状态转移不变量：从根节点到每个叶子节点的路径上的字符可以被替换为使得所有叶子节点的字符串互为字母异位词的字符，且这种替换方式在每次更新后保持一致。",
            "properties": {}
          },
          {
            "name": "interval_mergeable",
            "description": "区间可合并性：从根节点到任意节点的路径上，可以通过子区间的字符信息合并得到该路径上的字符信息，并且这种合并方式在每次更新后保持一致。",
            "properties": {}
          },
          {
            "name": "optimal_substructure",
            "description": "最优子结构：整个树的可字母异位词性质可以通过其子树的可字母异位词性质来确定，并且这种性质在每次更新后保持一致。",
            "properties": {}
          }
        ]
      }
    }
  ]
}