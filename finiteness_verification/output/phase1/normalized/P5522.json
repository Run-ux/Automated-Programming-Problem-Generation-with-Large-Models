{
  "problem_id": "P5522",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "matrix",
        "length": {
          "min": 1,
          "max": 100007
        },
        "value_range": {
          "min": 0,
          "max": 2
        },
        "properties": {
          "inferred": true
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "substring_matching_constraint",
            "description": "对于一段连续的年份区间 [l, r] 中的所有信件，存在一个字符串 S 使得该区间内的所有信件的内容都可能是 S。S 的长度为 n，且只含字符 0 和 1。",
            "formal": "∀ l, r (1 ≤ l ≤ r ≤ m), ∃ S (|S| = n, S ∈ {0, 1}^n) 使得 ∀ i (l ≤ i ≤ r), s_i 可以匹配 S"
          },
          {
            "name": "pattern_matching_substitution",
            "description": "一个长度为 n 的只含 0, 1, ? 的字符串 A 可能是一个字符串 B 当且仅当 B 满足以下条件：B 的长度也是 n；B 中只含字符 0, 1；A 中所有为 0 的位置在 B 中也是 0；A 中所有为 1 的位置在 B 中也是 1；A 中为 ? 的位置在 B 中可以为 0 也可以是 1。",
            "formal": "A[i] = 0 → B[i] = 0; A[i] = 1 → B[i] = 1; A[i] = ? → B[i] ∈ {0, 1}"
          },
          {
            "name": "xor_sum_constraint",
            "description": "所有查询的答案异或和对 0 取异或的结果。",
            "formal": "result = XOR(answers) ^ 0"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "maximize_count",
        "description": "统计满足条件的字符串数量"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "name": "interval_mergeable",
        "description": "区间信息可通过子区间合并，满足区间可合并性",
        "properties": {
          "prefix_summable": true
        }
      }
    }
  ]
}