{
  "problem_id": "P4486",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "two_dimensional_array",
        "length": {
          "min": 3,
          "max": 30
        },
        "value_range": {
          "min": 0,
          "max": 4
        },
        "properties": {
          "inferred": true
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "sum_constraint",
            "description": "被斜线分开的方格中，右上角的数字等于其右侧邻接之连续方格中数字之和，左下角的数字等于其下方邻接之连续方格中数字之和。",
            "formal": "对于每个线索格子 (i, j)，设其右上角的线索为 S1，左下角的线索为 S2，则有：\n- 右侧连续空格的数字之和 = S1\n- 下方连续空格的数字之和 = S2"
          },
          {
            "name": "range_bound",
            "description": "空格中填入的数字必须是正整数。",
            "formal": "对于每个空格 (i, j)，填入的数字 x 必须满足 1 ≤ x ≤ 9"
          },
          {
            "name": "cost_of_reassignment",
            "description": "每个数字都有特定的代价，将这个数字加1或减1都得付出这个数字对应的代价。如果代价为-1表示这个格子不能修改。",
            "formal": "对于每个可修改的数字 x，修改代价为 cost(x)。如果 cost(x) = -1，则 x 不能修改。"
          },
          {
            "name": "existence_requirement",
            "description": "最终局面必须满足所有游戏规则，即空格中的数字必须是正整数并且满足和的条件。",
            "formal": "对于每个线索格子 (i, j)，设其右上角的线索为 S1，左下角的线索为 S2，则有：\n- 右侧连续空格的数字之和 = S1\n- 下方连续空格的数字之和 = S2\n且每个空格 (i, j) 中的数字 x 满足 1 ≤ x ≤ 9"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "minimize_value",
        "description": "求将局面修改为合法解所需的最小代价"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "optimal_substructure",
            "description": "最优解可以通过子问题的最优解组合得到，即每个空格的数字调整可以独立考虑，并且整体的最小代价是各个子问题代价之和。",
            "properties": {}
          },
          {
            "name": "state_transition",
            "description": "状态转移不变量：通过调整每个空格中的数字，使得其满足和的条件。每个空格的状态变化（加1或减1）依赖于其相邻格子的状态。",
            "properties": {}
          },
          {
            "name": "interval_additivity",
            "description": "区间可加性：连续方格中的数字之和可以通过端点差值计算，确保每个线索对应的和条件满足。",
            "properties": {}
          }
        ]
      }
    }
  ]
}