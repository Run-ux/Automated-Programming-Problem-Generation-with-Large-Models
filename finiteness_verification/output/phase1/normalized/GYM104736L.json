{
  "problem_id": "GYM104736L",
  "source": "icpc_gym",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "array",
        "length": {
          "min": 1,
          "max": 200000
        },
        "value_range": {
          "min": 32,
          "max": 126
        },
        "properties": {
          "ordered": true
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "syntax_validity",
            "description": "字符串的子串必须符合预定义的文法规则，即为有效的表达式"
          },
          {
            "name": "subsequence_count",
            "description": "计算所有不同的有效表达式子串的数量，不同子串定义为起始或结束位置不同"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "enumeration",
        "description": "计算字符串中所有满足给定规则的子串数量"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "optimal_substructure",
            "description": "最优子结构：有效表达式的计数可以通过其子表达式的有效性来确定，即一个表达式是有效的当且仅当它的所有子表达式都是有效的。",
            "properties": {}
          },
          {
            "name": "state_transition",
            "description": "状态转移不变量：通过维护当前字符的状态（如是否在括号内、操作符前后等），可以递归地判断和更新整个字符串的有效性。每个字符的处理都依赖于前一个字符的状态。",
            "properties": {}
          },
          {
            "name": "interval_mergeable",
            "description": "区间可合并性：有效表达式的子串可以被合并以形成更大的有效表达式。例如，两个相邻的有效表达式可以通过适当的运算符连接成一个新的有效表达式。",
            "properties": {}
          }
        ]
      }
    }
  ]
}