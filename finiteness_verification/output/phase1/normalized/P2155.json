{
  "problem_id": "P2155",
  "source": "luogu",
  "input_structure": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "array",
        "length": {
          "min": 1,
          "max": 10000
        },
        "value_range": {
          "min": 1,
          "max": 10000000
        },
        "properties": {
          "ordered": false
        }
      }
    }
  ],
  "core_constraints": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "constraints": [
          {
            "name": "coprime_constraint",
            "description": "计算在给定范围内与特定数互质的数的数量",
            "formal": "count(i in [1, N!] | gcd(i, M!) == 1) % R"
          }
        ]
      }
    }
  ],
  "objective": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "type": "enumeration",
        "description": "求在给定范围内与特定数互质的数的数量，并对结果取模"
      }
    }
  ],
  "invariant": [
    {
      "round": 1,
      "status": "success",
      "result": {
        "invariants": [
          {
            "name": "optimal_substructure",
            "description": "最优子结构：问题的解可以通过子问题的解来构建，即求解 $[1, N!]$ 中与 $M!$ 互质的数的数量可以分解为更小规模的问题。",
            "properties": {}
          },
          {
            "name": "modular_invariance",
            "description": "模运算不变量：所有计算结果都对给定的模数 $R$ 取模，确保中间结果和最终结果都在合理范围内。",
            "properties": {}
          }
        ]
      }
    }
  ]
}