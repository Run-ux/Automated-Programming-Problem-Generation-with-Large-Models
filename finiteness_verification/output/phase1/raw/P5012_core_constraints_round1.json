{
  "problem_id": "P5012",
  "source": "luogu",
  "dimension": "core_constraints",
  "round": 1,
  "result": {
    "constraints": [
      {
        "name": "range_bound",
        "description": "选择的数 x 必须使得标记区间的个数在给定的 l 和 r 范围内",
        "formal": "l <= count_of_marked_intervals(x) <= r"
      },
      {
        "name": "score_calculation",
        "description": "得分是每个连续标记区间的长度平方和除以选择的数 x",
        "formal": "score = (sum_of_squared_lengths_of_marked_intervals) / x"
      },
      {
        "name": "query_limit",
        "description": "有 T 组询问，每组询问需要满足特定条件",
        "formal": "T queries, each with specific conditions"
      },
      {
        "name": "online_query",
        "description": "查询是强制在线的，需要根据上一次的结果计算当前的 l 和 r",
        "formal": "l = (a * lastans + x - 1) % n + 1; r = (b * lastans + y - 1) % n + 1; if (l > r) swap(l, r)"
      },
      {
        "name": "max_score_and_x",
        "description": "输出每一次询问能得到的最大分数和对应的 x，如果无解输出 -1 -1",
        "formal": "output max(score, x) for each query, or -1 -1 if no solution"
      }
    ]
  },
  "status": "success"
}