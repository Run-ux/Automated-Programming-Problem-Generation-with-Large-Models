{
  "problem_id": "P5399",
  "source": "luogu",
  "dimension": "core_constraints",
  "round": 1,
  "result": {
    "constraints": [
      {
        "name": "distance_constraint",
        "description": "树上两点 a, b 的距离 d(a, b) 是最小的非负整数 k，满足存在结点序列 v_0, v_1, ..., v_k，使得 v_0 = a, v_k = b，且对于 0 ≤ i ≤ k-1 有 v_i 和 v_{i+1} 之间在树上有一条边相连。",
        "formal": "d(a, b) = min{k | ∃v_0, v_1, ..., v_k, v_0 = a, v_k = b, ∀i ∈ [0, k-1], (v_i, v_{i+1}) ∈ E}"
      },
      {
        "name": "query_distance_limit",
        "description": "每个询问包含参数 p_0, d_0, p_1, d_1，求所有满足 d(p_0, a) ≤ d_0 且 d(p_1, b) ≤ d_1 的点对 (a, b) 的距离和。",
        "formal": "∑_{d(p_0, a) ≤ d_0} ∑_{d(p_1, b) ≤ d_1} d(a, b)"
      }
    ]
  },
  "status": "success"
}