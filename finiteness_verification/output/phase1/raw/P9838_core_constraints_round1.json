{
  "problem_id": "P9838",
  "source": "luogu",
  "dimension": "core_constraints",
  "round": 1,
  "result": {
    "constraints": [
      {
        "name": "permutation_constraint",
        "description": "排列约束：需要生成一个 1 到 n 的排列 p_1, p_2, ..., p_n。",
        "formal": "p 是 1 到 n 的一个排列"
      },
      {
        "name": "function_application",
        "description": "函数应用约束：每个元素 x 的优美度 f(x) 定义为 1 + log2(lowbit(x))，其中 lowbit(x) 是 x 在二进制表示下最低位的 1 的位置。",
        "formal": "f(x) = 1 + log2(lowbit(x))"
      },
      {
        "name": "sum_constraint",
        "description": "和约束：总优美度定义为所有可能的区间 [l, r] 内优美度之和，即 ∑_{l ≤ i ≤ r} f(p_i) 对于所有 1 ≤ l ≤ r ≤ n。",
        "formal": "total_beauty = ∑_{l=1}^n ∑_{r=l}^n ∑_{i=l}^r f(p_i)"
      },
      {
        "name": "kth_smallest_sum",
        "description": "第 k 小和约束：需要找到所有可能排列中总优美度恰好为第 k 小的值。",
        "formal": "find the k-th smallest total_beauty among all permutations of 1 to n"
      }
    ]
  },
  "status": "success"
}