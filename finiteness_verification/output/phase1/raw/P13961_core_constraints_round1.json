{
  "problem_id": "P13961",
  "source": "luogu",
  "dimension": "core_constraints",
  "round": 1,
  "result": {
    "constraints": [
      {
        "name": "capacity_constraint",
        "description": "选取元素数量不超过容量上限（手牌数量不能超过 k）",
        "formal": "hand_size <= k"
      },
      {
        "name": "sequential_execution",
        "description": "操作必须按顺序执行（上一张卡牌的所有效果触发完毕后才能使用下一张卡牌）",
        "formal": "for each card in hand: execute(card) -> next_card"
      },
      {
        "name": "empty_stack_condition",
        "description": "特定操作的前置条件（使用华丽收场时抽牌堆必须为空）",
        "formal": "if draw_pile == []: use_grand_finale()"
      },
      {
        "name": "discard_on_full_hand",
        "description": "当手牌满时，抽取的卡牌被丢弃（不加入手牌且不触发效果）",
        "formal": "if hand_size == k: discard(drawn_card)"
      },
      {
        "name": "unusable_element",
        "description": "存在不可用的元素（伤口卡牌在手牌中时不能被使用）",
        "formal": "if 'W' in hand: cannot_use('W')"
      }
    ]
  },
  "status": "success"
}